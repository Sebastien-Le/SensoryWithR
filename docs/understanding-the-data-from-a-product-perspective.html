<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 Understanding the data from a product perspective | Analyzing Sensory and Consumer Data - New</title>
  <meta name="description" content="Everything you need (and nothing more) to start a bookdown book." />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 Understanding the data from a product perspective | Analyzing Sensory and Consumer Data - New" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://seankross.com/bookdown-start/" />
  
  <meta property="og:description" content="Everything you need (and nothing more) to start a bookdown book." />
  <meta name="github-repo" content="Sebastien-Le/SensoryWithR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 Understanding the data from a product perspective | Analyzing Sensory and Consumer Data - New" />
  
  <meta name="twitter:description" content="Everything you need (and nothing more) to start a bookdown book." />
  

<meta name="author" content="S. Lê" />


<meta name="date" content="2020-06-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="diving-in.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Analyzing sensory and consumer data with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="understanding-the-data-from-a-product-perspective.html"><a href="understanding-the-data-from-a-product-perspective.html"><i class="fa fa-check"></i><b>1</b> Understanding the data from a product perspective</a><ul>
<li class="chapter" data-level="1.1" data-path="understanding-the-data-from-a-product-perspective.html"><a href="understanding-the-data-from-a-product-perspective.html#understanding-the-products-from-a-chemical-and-physical-point-of-view"><i class="fa fa-check"></i><b>1.1</b> Understanding the products from a chemical and physical point of view</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="diving-in.html"><a href="diving-in.html"><i class="fa fa-check"></i><b>2</b> Diving In</a></li>
<li class="chapter" data-level="3" data-path="technical-details.html"><a href="technical-details.html"><i class="fa fa-check"></i><b>3</b> Technical Details</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analyzing Sensory and Consumer Data - New</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="understanding-the-data-from-a-product-perspective" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> Understanding the data from a product perspective</h1>
<div id="understanding-the-products-from-a-chemical-and-physical-point-of-view" class="section level2">
<h2><span class="header-section-number">1.1</span> Understanding the products from a chemical and physical point of view</h2>
<p>In the following code, we first import the data with the <strong>read.delim2</strong> function, then we print the first rows with the <strong>head</strong> function ; finally we make a summary of the dataset with the <strong>summary</strong> function. All these steps are really important when you begin you analysis.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">salmon_car &lt;-<span class="st"> </span><span class="kw">read.delim2</span>(<span class="st">&quot;Salmon_characteristics.txt&quot;</span>, </a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="dt">header=</span><span class="ot">TRUE</span>, <span class="dt">row.names=</span><span class="dv">1</span>, <span class="dt">comment.char=</span><span class="st">&quot;#&quot;</span>,<span class="dt">dec=</span><span class="st">&quot;,&quot;</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">head</span>(salmon_car)</a></code></pre></div>
<pre><code>##              water   lipid    TVBN     TMA    salt  phenol      pH
## prod1_Fr   -0.8644  1.1375 -0.7629 -0.8717 -0.1471 -0.3776  1.5412
## prod2_Fr   -1.1476  0.7036  0.2357  0.3204  0.1626  0.0112  1.2098
## prod3_Fr   -0.4172  0.3378  0.4354  1.2144  0.3174  0.4001  0.3812
## prod4_Scot -0.8147 -0.0961 -0.5632 -0.8717  0.3174 -0.4554  0.2154
## prod5_Ger  -1.6991  0.0366 -0.7629 -0.8717  2.1752 -0.3776 -0.2817
## prod6_Ire  -0.9886  0.9653 -0.7629 -0.8717  0.0077  0.6594  1.0441
##            total.viable.count lactic.flora lactobacilli brochothrix   yeast
## prod1_Fr               0.1112       0.6665       1.1382      0.5461  0.7729
## prod2_Fr               0.4302      -0.4514       0.1290     -0.7559  1.2034
## prod3_Fr               0.8225       0.8725       0.4088      0.6465  0.2875
## prod4_Scot            -0.2432      -1.5861      -1.0624     -0.7559 -1.0340
## prod5_Ger             -1.5584      -1.5861      -1.0624     -0.7559 -1.0340
## prod6_Ire             -2.5977      -1.5861      -1.0624     -0.7559 -1.0340
##            enterobacteriaceae       L       a       b   origin
## prod1_Fr               0.8314  0.9917 -0.6467 -0.4567   France
## prod2_Fr               0.5998  0.8542  0.5297  0.9551   France
## prod3_Fr               0.2524 -0.8548  0.3927  0.2813   France
## prod4_Scot            -1.5793  0.3020  1.7439  3.3236 Scotland
## prod5_Ger             -0.9582 -1.3485  0.7341  0.5485  Germany
## prod6_Ire             -1.5793 -0.4322  0.4016  0.4278  Ireland</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">summary</span>(salmon_car)</a></code></pre></div>
<pre><code>##      water              lipid                 TVBN              TMA            
##  Min.   :-1.69910   Min.   :-2.4628000   Min.   :-1.1623   Min.   :-0.8717000  
##  1st Qu.:-0.85198   1st Qu.:-0.4259750   1st Qu.:-0.7629   1st Qu.:-0.8717000  
##  Median :-0.07435   Median : 0.2159000   Median :-0.3635   Median :-0.2757000  
##  Mean   :-0.00001   Mean   : 0.0000067   Mean   : 0.0000   Mean   : 0.0000033  
##  3rd Qu.: 0.47713   3rd Qu.: 0.5763000   3rd Qu.: 0.4354   3rd Qu.: 0.5439000  
##  Max.   : 2.02730   Max.   : 1.6251000   Max.   : 2.6322   Max.   : 2.4065000  
##       salt             phenol               pH             total.viable.count  
##  Min.   :-2.0049   Min.   :-1.20730   Min.   :-1.7733000   Min.   :-2.5977000  
##  1st Qu.:-0.6115   1st Qu.:-0.65633   1st Qu.:-0.8617500   1st Qu.:-0.3530250  
##  Median : 0.0077   Median :-0.29985   Median :-0.0331500   Median : 0.2699000  
##  Mean   : 0.0000   Mean   : 0.00001   Mean   :-0.0000067   Mean   : 0.0000067  
##  3rd Qu.: 0.3174   3rd Qu.: 0.40010   3rd Qu.: 0.8368750   3rd Qu.: 0.8187750  
##  Max.   : 2.4848   Max.   : 3.45930   Max.   : 2.0384000   Max.   : 1.1384000  
##   lactic.flora         lactobacilli         brochothrix     
##  Min.   :-1.5861000   Min.   :-1.0624000   Min.   :-0.7559  
##  1st Qu.:-0.4710500   1st Qu.:-1.0624000   1st Qu.:-0.7559  
##  Median : 0.3886500   Median : 0.2064500   Median :-0.7559  
##  Mean   : 0.0000033   Mean   :-0.0000067   Mean   : 0.0000  
##  3rd Qu.: 0.8312750   3rd Qu.: 0.9333500   3rd Qu.: 0.8192  
##  Max.   : 1.5327000   Max.   : 1.9639000   Max.   : 2.4632  
##      yeast            enterobacteriaceae       L                 a          
##  Min.   :-1.0340000   Min.   :-1.57930   Min.   :-1.8353   Min.   :-3.9939  
##  1st Qu.:-1.0340000   1st Qu.:-0.65815   1st Qu.:-0.8034   1st Qu.:-0.4152  
##  Median : 0.2608000   Median : 0.04190   Median : 0.1441   Median : 0.2868  
##  Mean   : 0.0000033   Mean   :-0.00001   Mean   : 0.0000   Mean   : 0.0000  
##  3rd Qu.: 0.7537750   3rd Qu.: 0.79060   3rd Qu.: 0.5455   3rd Qu.: 0.5362  
##  Max.   : 2.1072000   Max.   : 1.64720   Max.   : 2.5982   Max.   : 1.7439  
##        b                origin         
##  Min.   :-1.827700   Length:30         
##  1st Qu.:-0.577750   Class :character  
##  Median : 0.073650   Mode  :character  
##  Mean   :-0.000003                     
##  3rd Qu.: 0.388475                     
##  Max.   : 3.323600</code></pre>
<p>As you can see in the output, something is missing in the description of the variable <em>origin</em>. By default, the numbers of levels to be displayed is equal to 7. Let’s set the argument <em>maxsum</em> to 8 and see what happens.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">summary</span>(salmon_car,<span class="dt">maxsum=</span><span class="dv">8</span>)</a></code></pre></div>
<pre><code>##      water              lipid                 TVBN              TMA            
##  Min.   :-1.69910   Min.   :-2.4628000   Min.   :-1.1623   Min.   :-0.8717000  
##  1st Qu.:-0.85198   1st Qu.:-0.4259750   1st Qu.:-0.7629   1st Qu.:-0.8717000  
##  Median :-0.07435   Median : 0.2159000   Median :-0.3635   Median :-0.2757000  
##  Mean   :-0.00001   Mean   : 0.0000067   Mean   : 0.0000   Mean   : 0.0000033  
##  3rd Qu.: 0.47713   3rd Qu.: 0.5763000   3rd Qu.: 0.4354   3rd Qu.: 0.5439000  
##  Max.   : 2.02730   Max.   : 1.6251000   Max.   : 2.6322   Max.   : 2.4065000  
##       salt             phenol               pH             total.viable.count  
##  Min.   :-2.0049   Min.   :-1.20730   Min.   :-1.7733000   Min.   :-2.5977000  
##  1st Qu.:-0.6115   1st Qu.:-0.65633   1st Qu.:-0.8617500   1st Qu.:-0.3530250  
##  Median : 0.0077   Median :-0.29985   Median :-0.0331500   Median : 0.2699000  
##  Mean   : 0.0000   Mean   : 0.00001   Mean   :-0.0000067   Mean   : 0.0000067  
##  3rd Qu.: 0.3174   3rd Qu.: 0.40010   3rd Qu.: 0.8368750   3rd Qu.: 0.8187750  
##  Max.   : 2.4848   Max.   : 3.45930   Max.   : 2.0384000   Max.   : 1.1384000  
##   lactic.flora         lactobacilli         brochothrix     
##  Min.   :-1.5861000   Min.   :-1.0624000   Min.   :-0.7559  
##  1st Qu.:-0.4710500   1st Qu.:-1.0624000   1st Qu.:-0.7559  
##  Median : 0.3886500   Median : 0.2064500   Median :-0.7559  
##  Mean   : 0.0000033   Mean   :-0.0000067   Mean   : 0.0000  
##  3rd Qu.: 0.8312750   3rd Qu.: 0.9333500   3rd Qu.: 0.8192  
##  Max.   : 1.5327000   Max.   : 1.9639000   Max.   : 2.4632  
##      yeast            enterobacteriaceae       L                 a          
##  Min.   :-1.0340000   Min.   :-1.57930   Min.   :-1.8353   Min.   :-3.9939  
##  1st Qu.:-1.0340000   1st Qu.:-0.65815   1st Qu.:-0.8034   1st Qu.:-0.4152  
##  Median : 0.2608000   Median : 0.04190   Median : 0.1441   Median : 0.2868  
##  Mean   : 0.0000033   Mean   :-0.00001   Mean   : 0.0000   Mean   : 0.0000  
##  3rd Qu.: 0.7537750   3rd Qu.: 0.79060   3rd Qu.: 0.5455   3rd Qu.: 0.5362  
##  Max.   : 2.1072000   Max.   : 1.64720   Max.   : 2.5982   Max.   : 1.7439  
##        b                origin         
##  Min.   :-1.827700   Length:30         
##  1st Qu.:-0.577750   Class :character  
##  Median : 0.073650   Mode  :character  
##  Mean   :-0.000003                     
##  3rd Qu.: 0.388475                     
##  Max.   : 3.323600</code></pre>
<p>Now we want to get a multivariate description of the smoked salmons based on their chemical and physical measurements. As all the measures (except <em>origin</em>) are continuous, we’re going to run a PCA on the dataset. It seems fair to consider all the variables as <em>active</em>, and to scale them to unit variance. Here, the last variable <em>origin</em> is considered as <em>illustrative</em>.</p>
<p>To do so, we are using the <strong>FactoMineR</strong> package and the <strong>PCA</strong> function. First, load the <strong>FactoMineR</strong> package and run the <strong>PCA</strong> function.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">library</span>(FactoMineR)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">res &lt;-<span class="st"> </span><span class="kw">PCA</span>(salmon_car,<span class="dt">quali.sup=</span><span class="dv">17</span>,<span class="dt">graph=</span>F)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="kw">names</span>(res)</a></code></pre></div>
<pre><code>## [1] &quot;eig&quot;       &quot;var&quot;       &quot;ind&quot;       &quot;svd&quot;       &quot;quali.sup&quot; &quot;call&quot;</code></pre>
<p>When you run a PCA, you often want to save the results in an R object, in order to use them latter. This is what we did: we saved them in an object we named <em>res</em>, then we applied the <strong>names</strong> function to that object. This function allows you to obtain the names of the different components of the input. For instance, if you want to see of the variance is decomposed:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">res<span class="op">$</span>eig</a></code></pre></div>
<pre><code>##         eigenvalue percentage of variance cumulative percentage of variance
## comp 1  5.46821199            34.17632493                          34.17632
## comp 2  2.51222592            15.70141202                          49.87774
## comp 3  1.80173714            11.26085714                          61.13859
## comp 4  1.33622262             8.35139136                          69.48999
## comp 5  1.24367295             7.77295594                          77.26294
## comp 6  0.98474448             6.15465300                          83.41759
## comp 7  0.87880761             5.49254757                          88.91014
## comp 8  0.55820900             3.48880625                          92.39895
## comp 9  0.35637332             2.22733324                          94.62628
## comp 10 0.29787183             1.86169893                          96.48798
## comp 11 0.18417610             1.15110061                          97.63908
## comp 12 0.15473811             0.96711318                          98.60619
## comp 13 0.09236742             0.57729636                          99.18349
## comp 14 0.07795966             0.48724787                          99.67074
## comp 15 0.03834453             0.23965332                          99.91039
## comp 16 0.01433732             0.08960828                         100.00000</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">barplot</span>(res<span class="op">$</span>eig[,<span class="dv">1</span>])</a></code></pre></div>
<p><img src="01-Introduction_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Now, let’s see what happens if we run the <strong>plot.PCA</strong> function to the <em>res</em> object.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">plot.PCA</span>(res,<span class="dt">choix=</span><span class="st">&quot;var&quot;</span>)</a></code></pre></div>
<p><img src="01-Introduction_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">plot.PCA</span>(res,<span class="dt">choix=</span><span class="st">&quot;ind&quot;</span>)</a></code></pre></div>
<p><img src="01-Introduction_files/figure-html/unnamed-chunk-5-2.png" width="672" /></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw">plot.PCA</span>(res,<span class="dt">choix=</span><span class="st">&quot;ind&quot;</span>,<span class="dt">invisible=</span><span class="st">&quot;quali&quot;</span>)</a></code></pre></div>
<p><img src="01-Introduction_files/figure-html/unnamed-chunk-5-3.png" width="672" /></p>
<p>As you can see, some news feature have been added to the <strong>FactoMineR</strong> package, notably the <em>ggplot</em> type representation of the individuals and the variables. In this example, we can see how important <em>supplementary</em> variables can be. We can also see how they can be represented, which is the case by default. Here, we projected the information on the origin of the smoked salmon. Look at the product 10, how do you think this product is salty?</p>
<p>Any questions about the concept of <em>illustrative</em> variables? What do you think about the percentage associated with each axis?</p>
<p>Now that we know how to differentiate <em>illustrative</em> or <em>supplementary</em> variables from the <em>active</em> ones, let’s spend some time to interpret this PCA. As you know, the two graphical representations have to be interpreted jointly.</p>
<p>You may want to use the <strong>dimdesc</strong> function to get an interpretation of the axis.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">resdim &lt;-<span class="st"> </span><span class="kw">dimdesc</span>(res)</a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="kw">names</span>(resdim)</a></code></pre></div>
<pre><code>## [1] &quot;Dim.1&quot; &quot;Dim.2&quot; &quot;Dim.3&quot; &quot;call&quot;</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">resdim<span class="op">$</span>Dim<span class="fl">.1</span></a></code></pre></div>
<pre><code>## $quanti
##                    correlation      p.value
## lactic.flora         0.9027708 9.041485e-12
## total.viable.count   0.8608419 1.046362e-09
## lactobacilli         0.7850662 2.795050e-07
## enterobacteriaceae   0.7762724 4.619296e-07
## TMA                  0.7642286 8.873792e-07
## TVBN                 0.7421954 2.668420e-06
## brochothrix          0.7317464 4.332436e-06
## yeast                0.6773779 3.930677e-05
## salt                -0.6282864 2.011201e-04
## 
## $quali
##               R2      p.value
## origin 0.7348005 3.964817e-05
## 
## $category
##                  Estimate    p.value
## origin=Belgium   2.871677 0.02182312
## origin=UK        2.208683 0.03851838
## origin=Ireland  -2.788912 0.03325308
## origin=Scotland -3.662799 0.02354381
## 
## attr(,&quot;class&quot;)
## [1] &quot;condes&quot; &quot;list &quot;</code></pre>
<p>Now, you can try to explore the dataset in a more dynamical manner. What is the difference between this,</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw">library</span>(explor)</a>
<a class="sourceLine" id="cb19-2" data-line-number="2">res &lt;-<span class="st"> </span><span class="kw">PCA</span>(salmon_car,<span class="dt">quali.sup=</span><span class="dv">17</span>,<span class="dt">graph=</span>F)</a>
<a class="sourceLine" id="cb19-3" data-line-number="3"><span class="kw">explor</span>(res)</a></code></pre></div>
<p>and this?</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">res &lt;-<span class="st"> </span><span class="kw">PCA</span>(salmon_car[,<span class="op">-</span><span class="dv">17</span>],<span class="dt">graph=</span>F)</a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="kw">explor</span>(res)</a></code></pre></div>
<p><strong>Exercise. </strong>
You can play with the different arguments of the <strong>PCA</strong> and the <strong>plot.PCA</strong> functions.</p>
<p><strong>Remark. </strong>PCA, by extracting dimensions, can be seen as a method to summarize the data, or more precisely the relations amongst the variables of your dataset. Some people would say that by running a PCA you cluster variables into dimensions. It’s very convenient, because you simplify your understanding by using a few dimensions instead of all the variables.
You could do the same thing with the individuals. Instead of reducing the complexity on your variables, you will reduce the complexity on the individuals.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">reshcpc &lt;-<span class="st"> </span><span class="kw">HCPC</span>(res,<span class="dt">nb.clust=</span><span class="dv">3</span>)</a></code></pre></div>
<p><img src="01-Introduction_files/figure-html/unnamed-chunk-9-1.png" width="672" /><img src="01-Introduction_files/figure-html/unnamed-chunk-9-2.png" width="672" /><img src="01-Introduction_files/figure-html/unnamed-chunk-9-3.png" width="672" /></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw">names</span>(reshcpc)</a></code></pre></div>
<pre><code>## [1] &quot;data.clust&quot; &quot;desc.var&quot;   &quot;desc.axes&quot;  &quot;desc.ind&quot;   &quot;call&quot;</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw">names</span>(reshcpc<span class="op">$</span>desc.var)</a></code></pre></div>
<pre><code>## [1] &quot;test.chi2&quot;  &quot;category&quot;   &quot;quanti.var&quot; &quot;quanti&quot;     &quot;call&quot;</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">names</span>(reshcpc<span class="op">$</span>desc.var<span class="op">$</span>quanti)</a></code></pre></div>
<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">reshcpc<span class="op">$</span>desc.var<span class="op">$</span>quanti<span class="op">$</span><span class="st">`</span><span class="dt">1</span><span class="st">`</span></a></code></pre></div>
<pre><code>##                       v.test Mean in category  Overall mean sd in category
## b                   2.967108          1.23202 -3.333333e-06      1.1663873
## salt                2.404836          0.99856 -1.457168e-17      1.0973584
## a                   2.291474          0.95148 -3.700743e-18      0.4806493
## TMA                -2.099319         -0.87170  3.333333e-06      0.0000000
## yeast              -2.490229         -1.03400  3.333333e-06      0.0000000
## water              -2.519590         -1.04622 -1.000000e-05      0.5634578
## enterobacteriaceae -3.052957         -1.26770 -1.000000e-05      0.3944804
## lactic.flora       -3.077490         -1.27786  3.333333e-06      0.6164800
## total.viable.count -3.819886         -1.58612  6.666667e-06      0.9248322
##                    Overall sd      p.value
## b                   0.9999991 0.0030061550
## salt                1.0000064 0.0161797401
## a                   0.9999972 0.0219360319
## TMA                 1.0000099 0.0357888054
## yeast               0.9999921 0.0127660659
## water               1.0000067 0.0117491490
## enterobacteriaceae  1.0000148 0.0022659864
## lactic.flora        1.0000041 0.0020875189
## total.viable.count  1.0000033 0.0001335133</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1">reshcpc<span class="op">$</span>desc.var<span class="op">$</span>quanti<span class="op">$</span><span class="st">`</span><span class="dt">2</span><span class="st">`</span></a></code></pre></div>
<pre><code>##                 v.test Mean in category  Overall mean sd in category Overall sd
## L             2.442596        0.7521750 -1.619075e-18      0.5146511  0.9999999
## water         2.241235        0.6901625 -1.000000e-05      0.9409535  1.0000067
## lactic.flora -2.264032       -0.6971875  3.333333e-06      0.7459357  1.0000041
## TMA          -2.291215       -0.7055625  3.333333e-06      0.2520950  1.0000099
## b            -2.309972       -0.7113375 -3.333333e-06      0.4989181  0.9999991
## TVBN         -2.396348       -0.7379375 -1.966020e-17      0.3225866  1.0000055
## brochothrix  -2.454675       -0.7559000 -5.551115e-18      0.0000000  1.0000069
## lactobacilli -2.903449       -0.8941125 -6.666667e-06      0.4452469  1.0000168
##                  p.value
## L            0.014582067
## water        0.025010865
## lactic.flora 0.023572148
## TMA          0.021950968
## b            0.020889703
## TVBN         0.016559366
## brochothrix  0.014101201
## lactobacilli 0.003690765</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1">reshcpc<span class="op">$</span>desc.var<span class="op">$</span>quanti<span class="op">$</span><span class="st">`</span><span class="dt">3</span><span class="st">`</span></a></code></pre></div>
<pre><code>##                       v.test Mean in category  Overall mean sd in category
## lactic.flora        4.334916        0.7039353  3.333333e-06      0.4319264
## total.viable.count  4.055101        0.6585000  6.666667e-06      0.3942778
## lactobacilli        3.996881        0.6490412 -6.666667e-06      0.7748847
## enterobacteriaceae  3.794019        0.6160941 -1.000000e-05      0.6448174
## TMA                 3.623520        0.5884176  3.333333e-06      0.9648019
## yeast               3.602067        0.5849235  3.333333e-06      0.8154801
## brochothrix         3.559652        0.5780412 -5.551115e-18      0.9968236
## TVBN                3.303261        0.5364059 -1.966020e-17      1.0210896
## salt               -3.148943       -0.5113471 -1.457168e-17      0.6917277
##                    Overall sd      p.value
## lactic.flora        1.0000041 1.458157e-05
## total.viable.count  1.0000033 5.011257e-05
## lactobacilli        1.0000168 6.418262e-05
## enterobacteriaceae  1.0000148 1.482285e-04
## TMA                 1.0000099 2.906203e-04
## yeast               0.9999921 3.156966e-04
## brochothrix         1.0000069 3.713463e-04
## TVBN                1.0000055 9.556725e-04
## salt                1.0000064 1.638622e-03</code></pre>
<p>Instead of having 30 smoked salmons, we now have 3 groups of salmons: that’s how we reduce the complexity of our problem.</p>
<p>Let’s use a very interesting output of our <strong>HCPC</strong> function, and play with it.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="kw">summary</span>(reshcpc<span class="op">$</span>data.clust)</a></code></pre></div>
<pre><code>##      water              lipid                 TVBN              TMA            
##  Min.   :-1.69910   Min.   :-2.4628000   Min.   :-1.1623   Min.   :-0.8717000  
##  1st Qu.:-0.85198   1st Qu.:-0.4259750   1st Qu.:-0.7629   1st Qu.:-0.8717000  
##  Median :-0.07435   Median : 0.2159000   Median :-0.3635   Median :-0.2757000  
##  Mean   :-0.00001   Mean   : 0.0000067   Mean   : 0.0000   Mean   : 0.0000033  
##  3rd Qu.: 0.47713   3rd Qu.: 0.5763000   3rd Qu.: 0.4354   3rd Qu.: 0.5439000  
##  Max.   : 2.02730   Max.   : 1.6251000   Max.   : 2.6322   Max.   : 2.4065000  
##                                                                                
##       salt             phenol               pH             total.viable.count  
##  Min.   :-2.0049   Min.   :-1.20730   Min.   :-1.7733000   Min.   :-2.5977000  
##  1st Qu.:-0.6115   1st Qu.:-0.65633   1st Qu.:-0.8617500   1st Qu.:-0.3530250  
##  Median : 0.0077   Median :-0.29985   Median :-0.0331500   Median : 0.2699000  
##  Mean   : 0.0000   Mean   : 0.00001   Mean   :-0.0000067   Mean   : 0.0000067  
##  3rd Qu.: 0.3174   3rd Qu.: 0.40010   3rd Qu.: 0.8368750   3rd Qu.: 0.8187750  
##  Max.   : 2.4848   Max.   : 3.45930   Max.   : 2.0384000   Max.   : 1.1384000  
##                                                                                
##   lactic.flora         lactobacilli         brochothrix     
##  Min.   :-1.5861000   Min.   :-1.0624000   Min.   :-0.7559  
##  1st Qu.:-0.4710500   1st Qu.:-1.0624000   1st Qu.:-0.7559  
##  Median : 0.3886500   Median : 0.2064500   Median :-0.7559  
##  Mean   : 0.0000033   Mean   :-0.0000067   Mean   : 0.0000  
##  3rd Qu.: 0.8312750   3rd Qu.: 0.9333500   3rd Qu.: 0.8192  
##  Max.   : 1.5327000   Max.   : 1.9639000   Max.   : 2.4632  
##                                                             
##      yeast            enterobacteriaceae       L                 a          
##  Min.   :-1.0340000   Min.   :-1.57930   Min.   :-1.8353   Min.   :-3.9939  
##  1st Qu.:-1.0340000   1st Qu.:-0.65815   1st Qu.:-0.8034   1st Qu.:-0.4152  
##  Median : 0.2608000   Median : 0.04190   Median : 0.1441   Median : 0.2868  
##  Mean   : 0.0000033   Mean   :-0.00001   Mean   : 0.0000   Mean   : 0.0000  
##  3rd Qu.: 0.7537750   3rd Qu.: 0.79060   3rd Qu.: 0.5455   3rd Qu.: 0.5362  
##  Max.   : 2.1072000   Max.   : 1.64720   Max.   : 2.5982   Max.   : 1.7439  
##                                                                             
##        b                 origin  clust 
##  Min.   :-1.827700   France :8   1: 5  
##  1st Qu.:-0.577750   Germany:6   2: 8  
##  Median : 0.073650   UK     :4   3:17  
##  Mean   :-0.000003   Belgium:3         
##  3rd Qu.: 0.388475   DK     :3         
##  Max.   : 3.323600   Ireland:3         
##                      (Other):3</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1">res &lt;-<span class="st"> </span><span class="kw">PCA</span>(reshcpc<span class="op">$</span>data.clust,<span class="dt">quali.sup=</span><span class="kw">c</span>(<span class="dv">17</span>,<span class="dv">18</span>),<span class="dt">graph=</span>F)</a>
<a class="sourceLine" id="cb36-2" data-line-number="2"><span class="kw">plot.PCA</span>(res,<span class="dt">choix=</span><span class="st">&quot;var&quot;</span>,<span class="dt">graph.type =</span> <span class="st">&quot;classic&quot;</span>)</a></code></pre></div>
<p><img src="01-Introduction_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="kw">plot.PCA</span>(res,<span class="dt">choix=</span><span class="st">&quot;var&quot;</span>,<span class="dt">graph.type =</span> <span class="st">&quot;ggplot&quot;</span>)</a></code></pre></div>
<p><img src="01-Introduction_files/figure-html/unnamed-chunk-10-2.png" width="672" /></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="kw">plot.PCA</span>(res,<span class="dt">choix=</span><span class="st">&quot;ind&quot;</span>,<span class="dt">invisible=</span><span class="st">&quot;quali&quot;</span>,<span class="dt">habillage =</span> <span class="dv">17</span>)</a></code></pre></div>
<p><img src="01-Introduction_files/figure-html/unnamed-chunk-10-3.png" width="672" /></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="kw">plot.PCA</span>(res,<span class="dt">choix=</span><span class="st">&quot;ind&quot;</span>,<span class="dt">invisible=</span><span class="st">&quot;quali&quot;</span>,<span class="dt">habillage =</span> <span class="dv">18</span>)</a></code></pre></div>
<p><img src="01-Introduction_files/figure-html/unnamed-chunk-10-4.png" width="672" /></p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="kw">plot.PCA</span>(res,<span class="dt">choix=</span><span class="st">&quot;ind&quot;</span>,<span class="dt">invisible=</span><span class="st">&quot;ind&quot;</span>)</a></code></pre></div>
<p><img src="01-Introduction_files/figure-html/unnamed-chunk-10-5.png" width="672" /></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1"><span class="kw">plot</span>(res,<span class="dt">habillage=</span><span class="st">&quot;salt&quot;</span>,<span class="dt">ggoptions=</span><span class="kw">list</span>(<span class="dt">low.col.quanti=</span><span class="st">&quot;grey90&quot;</span>,<span class="dt">high.col.quanti=</span><span class="st">&quot;grey10&quot;</span>),</a>
<a class="sourceLine" id="cb41-2" data-line-number="2"><span class="dt">legend=</span><span class="kw">list</span>(<span class="dt">x=</span><span class="st">&quot;bottom&quot;</span>),<span class="dt">invisible =</span> <span class="st">&quot;quali&quot;</span>)</a></code></pre></div>
<p><img src="01-Introduction_files/figure-html/unnamed-chunk-10-6.png" width="672" /></p>
<p><strong>Exercise. </strong>This exercise is very important as it presents two very useful functions of the <strong>FactoMineR</strong> package.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="kw">descfreq</span>(<span class="kw">table</span>(reshcpc<span class="op">$</span>data.clust<span class="op">$</span>clust,reshcpc<span class="op">$</span>data.clust<span class="op">$</span>origin))</a>
<a class="sourceLine" id="cb42-2" data-line-number="2"><span class="kw">catdes</span>(reshcpc<span class="op">$</span>data.clust,<span class="dt">num.var=</span><span class="dv">18</span>)</a></code></pre></div>
<p>To understand the code, you should first run this:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="kw">table</span>(reshcpc<span class="op">$</span>data.clust<span class="op">$</span>clust,reshcpc<span class="op">$</span>data.clust<span class="op">$</span>origin)</a>
<a class="sourceLine" id="cb43-2" data-line-number="2"><span class="kw">colnames</span>(reshcpc<span class="op">$</span>data.clust)</a></code></pre></div>
<p><strong>Exercise. </strong>Please, provide a description of the French salmons.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="diving-in.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
